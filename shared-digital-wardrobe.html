<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIÊô∫ËÉΩÁîµÂ≠êË°£Ê©± - ËÆ©Á©øÊê≠Êõ¥ÁÆÄÂçï</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üëó</text></svg>">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            padding: 30px 0;
        }
        
        .header h1 {
            font-size: 3rem;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            font-weight: 700;
        }
        
        .header .subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
            margin-bottom: 10px;
        }
        
        .header .description {
            font-size: 1rem;
            opacity: 0.8;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .welcome-banner {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 30px;
            color: white;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .welcome-banner h2 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }
        
        .welcome-banner p {
            opacity: 0.9;
            font-size: 1.1rem;
        }
        
        .feature-highlights {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .feature-item {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
            transition: transform 0.3s ease;
        }
        
        .feature-item:hover {
            transform: translateY(-5px);
        }
        
        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .feature-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .feature-desc {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .controls {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .control-section {
            margin-bottom: 30px;
        }
        
        .control-section:last-child {
            margin-bottom: 0;
        }
        
        .control-title {
            font-size: 1.4rem;
            color: #2c3e50;
            margin-bottom: 20px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .add-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            align-items: end;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-group label {
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
            font-size: 0.95rem;
        }
        
        .form-group input,
        .form-group select {
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }
        
        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
            background: white;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #e53e3e 0%, #c53030 100%);
            color: white;
            font-size: 0.9rem;
            padding: 10px 20px;
        }
        
        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(229, 62, 62, 0.3);
        }
        
        .btn-edit {
            background: linear-gradient(135deg, #38a169 0%, #2f855a 100%);
            color: white;
            font-size: 0.9rem;
            padding: 10px 20px;
            margin-right: 10px;
        }
        
        .btn-edit:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(56, 161, 105, 0.3);
        }
        
        .filters {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            align-items: center;
        }
        
        .filter-group {
            display: flex;
            flex-direction: column;
            min-width: 180px;
        }
        
        .filter-group label {
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
            font-size: 0.95rem;
        }
        
        .search-box {
            flex: 1;
            min-width: 250px;
        }
        
        .wardrobe-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }
        
        .clothing-item {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .clothing-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
        }
        
        .clothing-item:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }
        
        .item-image {
            width: 100%;
            height: 220px;
            background: #f8f9fa;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            font-size: 4rem;
            border: 2px dashed #e2e8f0;
            overflow: hidden;
        }
        
        .item-name {
            font-size: 1.4rem;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 12px;
        }
        
        .item-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .item-detail {
            font-size: 0.95rem;
            color: #666;
            padding: 8px 12px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .item-detail strong {
            color: #333;
            font-weight: 600;
        }
        
        .item-actions {
            display: flex;
            justify-content: flex-end;
            gap: 12px;
        }
        
        .category-tag {
            position: absolute;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 6px 16px;
            border-radius: 25px;
            font-size: 0.85rem;
            font-weight: 600;
            box-shadow: 0 2px 10px rgba(102, 126, 234, 0.3);
        }
        
        .empty-state {
            text-align: center;
            padding: 80px 20px;
            color: white;
        }
        
        .empty-state h3 {
            font-size: 2rem;
            margin-bottom: 15px;
            opacity: 0.9;
        }
        
        .empty-state p {
            opacity: 0.7;
            font-size: 1.1rem;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .stat-card {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            padding: 25px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: 800;
            color: #667eea;
            margin-bottom: 8px;
        }
        
        .stat-label {
            color: #666;
            font-size: 1rem;
            font-weight: 600;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 40px;
            border-radius: 20px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }
        
        .modal-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #2c3e50;
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 1.8rem;
            cursor: pointer;
            color: #666;
            padding: 5px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }
        
        .close-btn:hover {
            background: #f0f0f0;
            color: #333;
        }
        
        .upload-area {
            border: 3px dashed #667eea;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            background: linear-gradient(135deg, #f8f9ff 0%, #f0f2ff 100%);
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }
        
        .upload-area:hover {
            border-color: #5a67d8;
            background: linear-gradient(135deg, #f0f2ff 0%, #e8ebff 100%);
            transform: translateY(-2px);
        }
        
        .upload-area.drag-over {
            border-color: #4ade80;
            background: linear-gradient(135deg, #f0fff4 0%, #e8f5e8 100%);
        }
        
        .upload-icon {
            font-size: 3.5rem;
            color: #667eea;
            margin-bottom: 15px;
        }
        
        .upload-text {
            color: #666;
            margin-bottom: 10px;
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        .upload-hint {
            font-size: 0.9rem;
            color: #999;
        }
        
        .image-preview {
            display: none;
            position: relative;
            margin-bottom: 20px;
        }
        
        .preview-image {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-radius: 15px;
            border: 2px solid #e2e8f0;
        }
        
        .remove-image {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(229, 62, 62, 0.9);
            color: white;
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            cursor: pointer;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .remove-image:hover {
            background: rgba(197, 48, 48, 0.9);
            transform: scale(1.1);
        }
        
        .ai-analyze-btn {
            background: linear-gradient(135deg, #9f7aea 0%, #805ad5 100%);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            margin-top: 15px;
            transition: all 0.3s ease;
            width: 100%;
        }
        
        .ai-analyze-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(159, 122, 234, 0.4);
        }
        
        .ai-analyze-btn:disabled {
            background: #a0aec0;
            cursor: not-allowed;
            transform: none;
        }
        
        .loading-spinner {
            display: inline-block;
            width: 18px;
            height: 18px;
            border: 2px solid #ffffff;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .real-image {
            width: 100%;
            height: 220px;
            object-fit: cover;
            border-radius: 15px;
            border: none;
        }
        
        .help-section {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .help-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .help-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .help-item {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .help-item-title {
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .help-item-desc {
            opacity: 0.9;
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        .footer {
            text-align: center;
            color: rgba(255,255,255,0.8);
            padding: 40px 0;
            margin-top: 50px;
        }
        
        .footer p {
            margin-bottom: 10px;
        }
        
        .footer a {
            color: rgba(255,255,255,0.9);
            text-decoration: none;
            font-weight: 600;
        }
        
        .footer a:hover {
            color: white;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2.5rem;
            }
            
            .header .subtitle {
                font-size: 1.1rem;
            }
            
            .add-form {
                grid-template-columns: 1fr;
            }
            
            .filters {
                flex-direction: column;
                align-items: stretch;
            }
            
            .wardrobe-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
                gap: 20px;
            }
            
            .stats {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                gap: 15px;
            }
            
            .feature-highlights {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }
            
            .help-content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üëó AIÊô∫ËÉΩÁîµÂ≠êË°£Ê©±</h1>
            <p class="subtitle">ËÆ©Á©øÊê≠Êõ¥ÁÆÄÂçïÔºåËÆ©ÁîüÊ¥ªÊõ¥ÁæéÂ•Ω</p>
            <p class="description">‰ΩøÁî®AIÊäÄÊúØÊô∫ËÉΩËØÜÂà´‰Ω†ÁöÑË°£Áâ©ÔºåËΩªÊùæÁÆ°ÁêÜ‰Ω†ÁöÑÊó∂Â∞öÂçïÂìÅ</p>
        </div>
        
        <!-- Ê¨¢ËøéÊ®™ÂπÖ -->
        <div class="welcome-banner">
            <h2>üéâ Ê¨¢Ëøé‰ΩøÁî®AIÊô∫ËÉΩÁîµÂ≠êË°£Ê©±</h2>
            <p>‰∏ä‰º†Ë°£Áâ©ÁÖßÁâáÔºåAIËá™Âä®ËØÜÂà´È¢úËâ≤ÂíåÁ±ªÂûãÔºåËÆ©Ë°£Ê©±ÁÆ°ÁêÜÂèòÂæóËΩªÊùæÊúâË∂£ÔºÅ</p>
        </div>
        
        <!-- ÂäüËÉΩÁâπËâ≤ -->
        <div class="feature-highlights">
            <div class="feature-item">
                <div class="feature-icon">ü§ñ</div>
                <div class="feature-title">AIÊô∫ËÉΩËØÜÂà´</div>
                <div class="feature-desc">Ëá™Âä®ËØÜÂà´Ë°£Áâ©È¢úËâ≤ÂíåÁ±ªÂûã</div>
            </div>
            <div class="feature-item">
                <div class="feature-icon">üì±</div>
                <div class="feature-title">ÁßªÂä®Á´Ø‰ºòÂåñ</div>
                <div class="feature-desc">ÊâãÊú∫Âπ≥ÊùøÂÆåÁæéÈÄÇÈÖç</div>
            </div>
            <div class="feature-item">
                <div class="feature-icon">üîí</div>
                <div class="feature-title">Êï∞ÊçÆÂÆâÂÖ®</div>
                <div class="feature-desc">Êï∞ÊçÆÊú¨Âú∞Â≠òÂÇ®Ôºå‰øùÊä§ÈöêÁßÅ</div>
            </div>
            <div class="feature-item">
                <div class="feature-icon">‚ö°</div>
                <div class="feature-title">Âø´ÈÄü‰æøÊç∑</div>
                <div class="feature-desc">ÊãñÊãΩ‰∏ä‰º†Ôºå‰∏ÄÈîÆÁÆ°ÁêÜ</div>
            </div>
        </div>
        
        <!-- ÁªüËÆ°Êï∞ÊçÆ -->
        <div class="stats">
            <div class="stat-card">
                <div class="stat-number" id="totalItems">0</div>
                <div class="stat-label">ÊÄªËÆ°Ë°£Áâ©</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="topCount">0</div>
                <div class="stat-label">‰∏äË°£</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="bottomCount">0</div>
                <div class="stat-label">‰∏ãË£Ö</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="shoeCount">0</div>
                <div class="stat-label">ÈûãÂ≠ê</div>
            </div>
        </div>
        
        <!-- ÊéßÂà∂Èù¢Êùø -->
        <div class="controls">
            <!-- Ê∑ªÂä†Êñ∞Ë°£Áâ© -->
            <div class="control-section">
                <h3 class="control-title">
                    <span>‚ûï</span>
                    <span>Ê∑ªÂä†Êñ∞Ë°£Áâ©</span>
                </h3>
                <form class="add-form" id="addClothingForm">
                    <div class="form-group">
                        <label for="itemName">Ë°£Áâ©ÂêçÁß∞</label>
                        <input type="text" id="itemName" required placeholder="‰æãÂ¶ÇÔºöÁôΩËâ≤TÊÅ§">
                    </div>
                    <div class="form-group">
                        <label for="itemCategory">Ë°£Áâ©Á±ªÂà´</label>
                        <select id="itemCategory" required>
                            <option value="">ÈÄâÊã©Á±ªÂà´</option>
                            <option value="‰∏äË°£">‰∏äË°£</option>
                            <option value="‰∏ãË£Ö">‰∏ãË£Ö</option>
                            <option value="ËøûË°£Ë£ô">ËøûË°£Ë£ô</option>
                            <option value="Â§ñÂ•ó">Â§ñÂ•ó</option>
                            <option value="ÈûãÂ≠ê">ÈûãÂ≠ê</option>
                            <option value="ÈÖçÈ•∞">ÈÖçÈ•∞</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="itemColor">‰∏ªË¶ÅÈ¢úËâ≤</label>
                        <input type="text" id="itemColor" placeholder="‰æãÂ¶ÇÔºöÁôΩËâ≤„ÄÅËìùËâ≤">
                    </div>
                    <div class="form-group">
                        <label for="itemBrand">ÂìÅÁâå</label>
                        <input type="text" id="itemBrand" placeholder="‰æãÂ¶ÇÔºöUNIQLO„ÄÅZARA">
                    </div>
                    <div class="form-group">
                        <label for="itemSize">Â∞∫Á†Å</label>
                        <input type="text" id="itemSize" placeholder="‰æãÂ¶ÇÔºöM„ÄÅL„ÄÅXL">
                    </div>
                    <div class="form-group">
                        <label for="itemSeason">ÈÄÇÂêàÂ≠£ËäÇ</label>
                        <select id="itemSeason">
                            <option value="">ÈÄâÊã©Â≠£ËäÇ</option>
                            <option value="Êò•Â≠£">Êò•Â≠£</option>
                            <option value="Â§èÂ≠£">Â§èÂ≠£</option>
                            <option value="ÁßãÂ≠£">ÁßãÂ≠£</option>
                            <option value="ÂÜ¨Â≠£">ÂÜ¨Â≠£</option>
                            <option value="ÂõõÂ≠£">ÂõõÂ≠£</option>
                        </select>
                    </div>
                </form>
                
                <!-- ÂõæÁâá‰∏ä‰º†Âå∫Âüü -->
                <div class="form-group" style="grid-column: 1 / -1;">
                    <label>Ë°£Áâ©ÂõæÁâá</label>
                    <div class="upload-area" id="uploadArea">
                        <div class="upload-icon">üì∑</div>
                        <div class="upload-text">ÁÇπÂáªÊàñÊãñÊãΩÂõæÁâáÂà∞ËøôÈáå</div>
                        <div class="upload-hint">ÊîØÊåÅ JPG„ÄÅPNG„ÄÅWEBP Ê†ºÂºèÔºåÊúÄÂ§ß 5MB</div>
                        <input type="file" id="imageInput" accept="image/*" style="display: none;">
                    </div>
                    <div class="image-preview" id="imagePreview">
                        <img id="previewImg" class="preview-image" alt="È¢ÑËßà">
                        <button type="button" class="remove-image" id="removeImage">&times;</button>
                    </div>
                    <button type="button" class="ai-analyze-btn" id="aiAnalyzeBtn" style="display: none;">
                        ü§ñ AIÊô∫ËÉΩËØÜÂà´ (È¢úËâ≤+ÂΩ¢Áä∂ÂàÜÊûê)
                    </button>
                </div>
                
                <div class="form-group" style="grid-column: 1 / -1;">
                    <button type="submit" class="btn btn-primary" form="addClothingForm">Ê∑ªÂä†Âà∞Ë°£Ê©±</button>
                </div>
            </div>
            
            <!-- Á≠õÈÄâÂíåÊêúÁ¥¢ -->
            <div class="control-section">
                <h3 class="control-title">
                    <span>üîç</span>
                    <span>Á≠õÈÄâÂíåÊêúÁ¥¢</span>
                </h3>
                <div class="filters">
                    <div class="filter-group">
                        <label for="filterCategory">ÊåâÁ±ªÂà´Á≠õÈÄâ</label>
                        <select id="filterCategory">
                            <option value="">ÂÖ®ÈÉ®Á±ªÂà´</option>
                            <option value="‰∏äË°£">‰∏äË°£</option>
                            <option value="‰∏ãË£Ö">‰∏ãË£Ö</option>
                            <option value="ËøûË°£Ë£ô">ËøûË°£Ë£ô</option>
                            <option value="Â§ñÂ•ó">Â§ñÂ•ó</option>
                            <option value="ÈûãÂ≠ê">ÈûãÂ≠ê</option>
                            <option value="ÈÖçÈ•∞">ÈÖçÈ•∞</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="filterSeason">ÊåâÂ≠£ËäÇÁ≠õÈÄâ</label>
                        <select id="filterSeason">
                            <option value="">ÂÖ®ÈÉ®Â≠£ËäÇ</option>
                            <option value="Êò•Â≠£">Êò•Â≠£</option>
                            <option value="Â§èÂ≠£">Â§èÂ≠£</option>
                            <option value="ÁßãÂ≠£">ÁßãÂ≠£</option>
                            <option value="ÂÜ¨Â≠£">ÂÜ¨Â≠£</option>
                            <option value="ÂõõÂ≠£">ÂõõÂ≠£</option>
                        </select>
                    </div>
                    <div class="filter-group search-box">
                        <label for="searchInput">ÊêúÁ¥¢Ë°£Áâ©</label>
                        <input type="text" id="searchInput" placeholder="ÊåâÂêçÁß∞„ÄÅÈ¢úËâ≤ÊàñÂìÅÁâåÊêúÁ¥¢...">
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ‰ΩøÁî®Â∏ÆÂä© -->
        <div class="help-section">
            <h3 class="help-title">
                <span>üí°</span>
                <span>‰ΩøÁî®Â∏ÆÂä©</span>
            </h3>
            <div class="help-content">
                <div class="help-item">
                    <div class="help-item-title">üì∏ ‰∏ä‰º†ÁÖßÁâá</div>
                    <div class="help-item-desc">ÊãñÊãΩÊàñÁÇπÂáª‰∏ä‰º†Ë°£Áâ©ÁÖßÁâáÔºåÊîØÊåÅJPG„ÄÅPNG„ÄÅWEBPÊ†ºÂºè</div>
                </div>
                <div class="help-item">
                    <div class="help-item-title">ü§ñ AIËØÜÂà´</div>
                    <div class="help-item-desc">‰∏ä‰º†ÂõæÁâáÂêéÁÇπÂáªAIËØÜÂà´ÊåâÈíÆÔºåËá™Âä®ÂàÜÊûêÈ¢úËâ≤ÂíåÁ±ªÂûã</div>
                </div>
                <div class="help-item">
                    <div class="help-item-title">üè∑Ô∏è Ê†áÁ≠æÁÆ°ÁêÜ</div>
                    <div class="help-item-desc">‰∏∫Ë°£Áâ©Ê∑ªÂä†ÂìÅÁâå„ÄÅÂ∞∫Á†Å„ÄÅÂ≠£ËäÇÁ≠âÊ†áÁ≠æÔºåÊñπ‰æøÁÆ°ÁêÜ</div>
                </div>
                <div class="help-item">
                    <div class="help-item-title">üîç Âø´ÈÄüÊêúÁ¥¢</div>
                    <div class="help-item-desc">‰ΩøÁî®Á≠õÈÄâÂíåÊêúÁ¥¢ÂäüËÉΩÔºåÂø´ÈÄüÊâæÂà∞ÊÉ≥Ë¶ÅÁöÑË°£Áâ©</div>
                </div>
            </div>
        </div>
        
        <!-- Ë°£Áâ©Â±ïÁ§∫Âå∫Âüü -->
        <div id="wardrobeGrid" class="wardrobe-grid"></div>
        
        <!-- Á©∫Áä∂ÊÄÅ -->
        <div id="emptyState" class="empty-state" style="display: none;">
            <h3>‰Ω†ÁöÑË°£Ê©±ËøòÊòØÁ©∫ÁöÑ</h3>
            <p>ÂºÄÂßãÊ∑ªÂä†‰Ω†ÁöÑÁ¨¨‰∏Ä‰ª∂Ë°£Áâ©ÂêßÔºÅËÆ©AIÂ∏Æ‰Ω†Êô∫ËÉΩÁÆ°ÁêÜË°£Ê©±</p>
        </div>
        
        <!-- È°µËÑö -->
        <div class="footer">
            <p>AIÊô∫ËÉΩÁîµÂ≠êË°£Ê©± - ËÆ©Á©øÊê≠Êõ¥ÁÆÄÂçï</p>
            <p>Êï∞ÊçÆÊú¨Âú∞Â≠òÂÇ®Ôºå‰øùÊä§‰Ω†ÁöÑÈöêÁßÅÂÆâÂÖ®</p>
            <p>‚ù§Ô∏è ÂàÜ‰∫´ÁªôÊúãÂèãÔºå‰∏ÄËµ∑‰∫´ÂèóÊô∫ËÉΩË°£Ê©±ÁöÑ‰πêË∂£</p>
        </div>
    </div>
    
    <!-- ÁºñËæëÊ®°ÊÄÅÊ°Ü -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ÁºñËæëË°£Áâ©‰ø°ÊÅØ</h3>
                <button class="close-btn" onclick="closeEditModal()">&times;</button>
            </div>
            <form id="editClothingForm">
                <div class="form-group">
                    <label for="editItemName">Ë°£Áâ©ÂêçÁß∞</label>
                    <input type="text" id="editItemName" required>
                </div>
                <div class="form-group">
                    <label for="editItemCategory">Ë°£Áâ©Á±ªÂà´</label>
                    <select id="editItemCategory" required>
                        <option value="">ÈÄâÊã©Á±ªÂà´</option>
                        <option value="‰∏äË°£">‰∏äË°£</option>
                        <option value="‰∏ãË£Ö">‰∏ãË£Ö</option>
                        <option value="ËøûË°£Ë£ô">ËøûË°£Ë£ô</option>
                        <option value="Â§ñÂ•ó">Â§ñÂ•ó</option>
                        <option value="ÈûãÂ≠ê">ÈûãÂ≠ê</option>
                        <option value="ÈÖçÈ•∞">ÈÖçÈ•∞</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editItemColor">‰∏ªË¶ÅÈ¢úËâ≤</label>
                    <input type="text" id="editItemColor">
                </div>
                <div class="form-group">
                    <label for="editItemBrand">ÂìÅÁâå</label>
                    <input type="text" id="editItemBrand">
                </div>
                <div class="form-group">
                    <label for="editItemSize">Â∞∫Á†Å</label>
                    <input type="text" id="editItemSize">
                </div>
                <div class="form-group">
                    <label for="editItemSeason">ÈÄÇÂêàÂ≠£ËäÇ</label>
                    <select id="editItemSeason">
                        <option value="">ÈÄâÊã©Â≠£ËäÇ</option>
                        <option value="Êò•Â≠£">Êò•Â≠£</option>
                        <option value="Â§èÂ≠£">Â§èÂ≠£</option>
                        <option value="ÁßãÂ≠£">ÁßãÂ≠£</option>
                        <option value="ÂÜ¨Â≠£">ÂÜ¨Â≠£</option>
                        <option value="ÂõõÂ≠£">ÂõõÂ≠£</option>
                    </select>
                </div>
                
                <!-- ÁºñËæëÊ®°ÊÄÅÊ°Ü‰∏≠ÁöÑÂõæÁâá‰∏ä‰º† -->
                <div class="form-group">
                    <label>Ë°£Áâ©ÂõæÁâá</label>
                    <div class="upload-area" id="editUploadArea">
                        <div class="upload-icon">üì∑</div>
                        <div class="upload-text">ÁÇπÂáªÊàñÊãñÊãΩÂõæÁâáÊõ¥Êç¢</div>
                        <div class="upload-hint">ÊîØÊåÅ JPG„ÄÅPNG„ÄÅWEBP Ê†ºÂºèÔºåÊúÄÂ§ß 5MB</div>
                        <input type="file" id="editImageInput" accept="image/*" style="display: none;">
                    </div>
                    <div class="image-preview" id="editImagePreview">
                        <img id="editPreviewImg" class="preview-image" alt="È¢ÑËßà">
                        <button type="button" class="remove-image" id="editRemoveImage">&times;</button>
                    </div>
                </div>
                
                <div style="margin-top: 30px;">
                    <button type="submit" class="btn btn-primary">‰øùÂ≠òÊõ¥Êîπ</button>
                </div>
            </form>
        </div>
    </div>
    
    <script>
        // Ë°£Áâ©Êï∞ÊçÆÂ≠òÂÇ®
        let clothingItems = JSON.parse(localStorage.getItem('clothingItems')) || [];
        let editingItemId = null;
        let currentImageData = null;
        let editImageData = null;
        
        // ÂàùÂßãÂåñÂ∫îÁî®
        document.addEventListener('DOMContentLoaded', function() {
            renderWardrobe();
            updateStats();
            
            // ÁªëÂÆö‰∫ã‰ª∂ÁõëÂê¨Âô®
            document.getElementById('addClothingForm').addEventListener('submit', addClothing);
            document.getElementById('editClothingForm').addEventListener('submit', updateClothing);
            document.getElementById('filterCategory').addEventListener('change', filterItems);
            document.getElementById('filterSeason').addEventListener('change', filterItems);
            document.getElementById('searchInput').addEventListener('input', filterItems);
            
            // ÂõæÁâá‰∏ä‰º†Áõ∏ÂÖ≥‰∫ã‰ª∂
            setupImageUpload();
            setupEditImageUpload();
            
            // ÊòæÁ§∫Ê¨¢Ëøé‰ø°ÊÅØ
            if (clothingItems.length === 0) {
                setTimeout(() => {
                    showNotification('Ê¨¢Ëøé‰ΩøÁî®AIÊô∫ËÉΩÁîµÂ≠êË°£Ê©±ÔºÅüéâ', 'info');
                }, 1000);
            }
        });
        
        // Ê∑ªÂä†Êñ∞Ë°£Áâ©
        function addClothing(e) {
            e.preventDefault();
            
            const newItem = {
                id: Date.now(),
                name: document.getElementById('itemName').value,
                category: document.getElementById('itemCategory').value,
                color: document.getElementById('itemColor').value,
                brand: document.getElementById('itemBrand').value,
                size: document.getElementById('itemSize').value,
                season: document.getElementById('itemSeason').value,
                image: currentImageData,
                dateAdded: new Date().toLocaleDateString()
            };
            
            clothingItems.push(newItem);
            saveToLocalStorage();
            renderWardrobe();
            updateStats();
            
            // ÈáçÁΩÆË°®Âçï
            document.getElementById('addClothingForm').reset();
            resetImageUpload();
            
            // ÊòæÁ§∫ÊàêÂäüÊ∂àÊÅØ
            showNotification('Ë°£Áâ©Ê∑ªÂä†ÊàêÂäüÔºÅ‚ú®', 'success');
        }
        
        // ‰øùÂ≠òÂà∞Êú¨Âú∞Â≠òÂÇ®
        function saveToLocalStorage() {
            localStorage.setItem('clothingItems', JSON.stringify(clothingItems));
        }
        
        // Ê∏≤ÊüìË°£Ê©±
        function renderWardrobe(items = clothingItems) {
            const grid = document.getElementById('wardrobeGrid');
            const emptyState = document.getElementById('emptyState');
            
            if (items.length === 0) {
                grid.style.display = 'none';
                emptyState.style.display = 'block';
                return;
            }
            
            grid.style.display = 'grid';
            emptyState.style.display = 'none';
            
            grid.innerHTML = items.map(item => `
                <div class="clothing-item">
                    <div class="category-tag">${item.category}</div>
                    <div class="item-image">
                        ${item.image ? 
                            `<img src="${item.image}" alt="${item.name}" class="real-image">` : 
                            `<div style="display: flex; align-items: center; justify-content: center; height: 100%; font-size: 4rem; border: 2px dashed #e2e8f0; border-radius: 15px; background: #f8f9fa;">${getCategoryIcon(item.category)}</div>`
                        }
                    </div>
                    <div class="item-name">${item.name}</div>
                    <div class="item-details">
                        <div class="item-detail"><strong>È¢úËâ≤:</strong> ${item.color || 'Êú™ËÆæÁΩÆ'}</div>
                        <div class="item-detail"><strong>ÂìÅÁâå:</strong> ${item.brand || 'Êú™ËÆæÁΩÆ'}</div>
                        <div class="item-detail"><strong>Â∞∫Á†Å:</strong> ${item.size || 'Êú™ËÆæÁΩÆ'}</div>
                        <div class="item-detail"><strong>Â≠£ËäÇ:</strong> ${item.season || 'Êú™ËÆæÁΩÆ'}</div>
                    </div>
                    <div class="item-actions">
                        <button class="btn btn-edit" onclick="editItem(${item.id})">ÁºñËæë</button>
                        <button class="btn btn-danger" onclick="deleteItem(${item.id})">Âà†Èô§</button>
                    </div>
                </div>
            `).join('');
        }
        
        // Ëé∑ÂèñÁ±ªÂà´ÂõæÊ†á
        function getCategoryIcon(category) {
            const icons = {
                '‰∏äË°£': 'üëï',
                '‰∏ãË£Ö': 'üëñ',
                'ËøûË°£Ë£ô': 'üëó',
                'Â§ñÂ•ó': 'üß•',
                'ÈûãÂ≠ê': 'üëü',
                'ÈÖçÈ•∞': 'üéí'
            };
            return icons[category] || 'üëî';
        }
        
        // Êõ¥Êñ∞ÁªüËÆ°Êï∞ÊçÆ
        function updateStats() {
            const totalItems = clothingItems.length;
            const topCount = clothingItems.filter(item => item.category === '‰∏äË°£').length;
            const bottomCount = clothingItems.filter(item => ['‰∏ãË£Ö', 'ËøûË°£Ë£ô'].includes(item.category)).length;
            const shoeCount = clothingItems.filter(item => item.category === 'ÈûãÂ≠ê').length;
            
            document.getElementById('totalItems').textContent = totalItems;
            document.getElementById('topCount').textContent = topCount;
            document.getElementById('bottomCount').textContent = bottomCount;
            document.getElementById('shoeCount').textContent = shoeCount;
        }
        
        // Á≠õÈÄâÂäüËÉΩ
        function filterItems() {
            const categoryFilter = document.getElementById('filterCategory').value;
            const seasonFilter = document.getElementById('filterSeason').value;
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            
            let filteredItems = clothingItems.filter(item => {
                const matchesCategory = !categoryFilter || item.category === categoryFilter;
                const matchesSeason = !seasonFilter || item.season === seasonFilter;
                const matchesSearch = !searchTerm || 
                    item.name.toLowerCase().includes(searchTerm) ||
                    (item.color && item.color.toLowerCase().includes(searchTerm)) ||
                    (item.brand && item.brand.toLowerCase().includes(searchTerm));
                
                return matchesCategory && matchesSeason && matchesSearch;
            });
            
            renderWardrobe(filteredItems);
        }
        
        // ÁºñËæëË°£Áâ©
        function editItem(id) {
            const item = clothingItems.find(item => item.id === id);
            if (!item) return;
            
            editingItemId = id;
            editImageData = item.image || null;
            
            // Â°´ÂÖÖÁºñËæëË°®Âçï
            document.getElementById('editItemName').value = item.name;
            document.getElementById('editItemCategory').value = item.category;
            document.getElementById('editItemColor').value = item.color || '';
            document.getElementById('editItemBrand').value = item.brand || '';
            document.getElementById('editItemSize').value = item.size || '';
            document.getElementById('editItemSeason').value = item.season || '';
            
            // ÊòæÁ§∫Áé∞ÊúâÂõæÁâáÊàñÈáçÁΩÆÂõæÁâáÂå∫Âüü
            if (item.image) {
                showEditImagePreview(item.image);
            } else {
                resetEditImageUpload();
            }
            
            // ÊòæÁ§∫Ê®°ÊÄÅÊ°Ü
            document.getElementById('editModal').style.display = 'block';
        }
        
        // Êõ¥Êñ∞Ë°£Áâ©
        function updateClothing(e) {
            e.preventDefault();
            
            const itemIndex = clothingItems.findIndex(item => item.id === editingItemId);
            if (itemIndex === -1) return;
            
            clothingItems[itemIndex] = {
                ...clothingItems[itemIndex],
                name: document.getElementById('editItemName').value,
                category: document.getElementById('editItemCategory').value,
                color: document.getElementById('editItemColor').value,
                brand: document.getElementById('editItemBrand').value,
                size: document.getElementById('editItemSize').value,
                season: document.getElementById('editItemSeason').value,
                image: editImageData
            };
            
            saveToLocalStorage();
            renderWardrobe();
            updateStats();
            closeEditModal();
            
            showNotification('Ë°£Áâ©Êõ¥Êñ∞ÊàêÂäüÔºÅ‚ú®', 'success');
        }
        
        // ÂÖ≥Èó≠ÁºñËæëÊ®°ÊÄÅÊ°Ü
        function closeEditModal() {
            document.getElementById('editModal').style.display = 'none';
            editingItemId = null;
            editImageData = null;
            resetEditImageUpload();
        }
        
        // Âà†Èô§Ë°£Áâ©
        function deleteItem(id) {
            if (confirm('Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰ª∂Ë°£Áâ©ÂêóÔºü')) {
                clothingItems = clothingItems.filter(item => item.id !== id);
                saveToLocalStorage();
                renderWardrobe();
                updateStats();
                
                showNotification('Ë°£Áâ©Âà†Èô§ÊàêÂäüÔºÅ', 'info');
            }
        }
        
        // ÂõæÁâá‰∏ä‰º†ÂäüËÉΩËÆæÁΩÆ
        function setupImageUpload() {
            const uploadArea = document.getElementById('uploadArea');
            const imageInput = document.getElementById('imageInput');
            const imagePreview = document.getElementById('imagePreview');
            const previewImg = document.getElementById('previewImg');
            const removeImage = document.getElementById('removeImage');
            const aiAnalyzeBtn = document.getElementById('aiAnalyzeBtn');
            
            // ÁÇπÂáª‰∏ä‰º†Âå∫Âüü
            uploadArea.addEventListener('click', () => {
                imageInput.click();
            });
            
            // Êñá‰ª∂ÈÄâÊã©
            imageInput.addEventListener('change', handleImageSelect);
            
            // ÊãñÊãΩÂäüËÉΩ
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.classList.add('drag-over');
            });
            
            uploadArea.addEventListener('dragleave', () => {
                uploadArea.classList.remove('drag-over');
            });
            
            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.classList.remove('drag-over');
                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    handleImageFile(files[0]);
                }
            });
            
            // ÁßªÈô§ÂõæÁâá
            removeImage.addEventListener('click', resetImageUpload);
            
            // AIÂàÜÊûê
            aiAnalyzeBtn.addEventListener('click', analyzeImageWithAI);
        }
        
        // ËÆæÁΩÆÁºñËæëÊ®°ÊÄÅÊ°Ü‰∏≠ÁöÑÂõæÁâá‰∏ä‰º†ÂäüËÉΩ
        function setupEditImageUpload() {
            const editUploadArea = document.getElementById('editUploadArea');
            const editImageInput = document.getElementById('editImageInput');
            const editImagePreview = document.getElementById('editImagePreview');
            const editPreviewImg = document.getElementById('editPreviewImg');
            const editRemoveImage = document.getElementById('editRemoveImage');
            
            // ÁÇπÂáª‰∏ä‰º†Âå∫Âüü
            editUploadArea.addEventListener('click', () => {
                editImageInput.click();
            });
            
            // Êñá‰ª∂ÈÄâÊã©
            editImageInput.addEventListener('change', handleEditImageSelect);
            
            // ÊãñÊãΩÂäüËÉΩ
            editUploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                editUploadArea.classList.add('drag-over');
            });
            
            editUploadArea.addEventListener('dragleave', () => {
                editUploadArea.classList.remove('drag-over');
            });
            
            editUploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                editUploadArea.classList.remove('drag-over');
                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    handleEditImageFile(files[0]);
                }
            });
            
            // ÁßªÈô§ÂõæÁâá
            editRemoveImage.addEventListener('click', resetEditImageUpload);
        }
        
        // Â§ÑÁêÜÂõæÁâáÈÄâÊã©
        function handleImageSelect(e) {
            const file = e.target.files[0];
            if (file) {
                handleImageFile(file);
            }
        }
        
        // Â§ÑÁêÜÁºñËæëÂõæÁâáÈÄâÊã©
        function handleEditImageSelect(e) {
            const file = e.target.files[0];
            if (file) {
                handleEditImageFile(file);
            }
        }
        
        // Â§ÑÁêÜÂçï‰∏™ÂõæÁâáÊñá‰ª∂
        function handleImageFile(file) {
            // È™åËØÅÊñá‰ª∂Á±ªÂûã
            if (!file.type.startsWith('image/')) {
                showNotification('ËØ∑ÈÄâÊã©ÂõæÁâáÊñá‰ª∂ÔºÅ', 'error');
                return;
            }
            
            // È™åËØÅÊñá‰ª∂Â§ßÂ∞è (5MB)
            if (file.size > 5 * 1024 * 1024) {
                showNotification('ÂõæÁâáÂ§ßÂ∞è‰∏çËÉΩË∂ÖËøá5MBÔºÅ', 'error');
                return;
            }
            
            // ÂéãÁº©Âπ∂È¢ÑËßàÂõæÁâá
            compressImage(file, (compressedDataUrl) => {
                currentImageData = compressedDataUrl;
                showImagePreview(compressedDataUrl);
            });
        }
        
        // Â§ÑÁêÜÁºñËæëÂõæÁâáÊñá‰ª∂
        function handleEditImageFile(file) {
            if (!file.type.startsWith('image/')) {
                showNotification('ËØ∑ÈÄâÊã©ÂõæÁâáÊñá‰ª∂ÔºÅ', 'error');
                return;
            }
            
            if (file.size > 5 * 1024 * 1024) {
                showNotification('ÂõæÁâáÂ§ßÂ∞è‰∏çËÉΩË∂ÖËøá5MBÔºÅ', 'error');
                return;
            }
            
            compressImage(file, (compressedDataUrl) => {
                editImageData = compressedDataUrl;
                showEditImagePreview(compressedDataUrl);
            });
        }
        
        // ÂõæÁâáÂéãÁº©
        function compressImage(file, callback) {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            const img = new Image();
            
            img.onload = function() {
                // ËÆ°ÁÆóÊñ∞Â∞∫ÂØ∏ÔºàÊúÄÂ§ß800pxÔºâ
                const maxSize = 800;
                let { width, height } = img;
                
                if (width > height) {
                    if (width > maxSize) {
                        height = height * (maxSize / width);
                        width = maxSize;
                    }
                } else {
                    if (height > maxSize) {
                        width = width * (maxSize / height);
                        height = maxSize;
                    }
                }
                
                canvas.width = width;
                canvas.height = height;
                
                // ÁªòÂà∂ÂéãÁº©ÂêéÁöÑÂõæÁâá
                ctx.drawImage(img, 0, 0, width, height);
                
                // ËΩ¨Êç¢‰∏∫DataURL
                const compressedDataUrl = canvas.toDataURL('image/jpeg', 0.8);
                callback(compressedDataUrl);
            };
            
            img.src = URL.createObjectURL(file);
        }
        
        // ÊòæÁ§∫ÂõæÁâáÈ¢ÑËßà
        function showImagePreview(dataUrl) {
            const uploadArea = document.getElementById('uploadArea');
            const imagePreview = document.getElementById('imagePreview');
            const previewImg = document.getElementById('previewImg');
            const aiAnalyzeBtn = document.getElementById('aiAnalyzeBtn');
            
            uploadArea.style.display = 'none';
            imagePreview.style.display = 'block';
            previewImg.src = dataUrl;
            aiAnalyzeBtn.style.display = 'block';
        }
        
        // ÊòæÁ§∫ÁºñËæëÂõæÁâáÈ¢ÑËßà
        function showEditImagePreview(dataUrl) {
            const editUploadArea = document.getElementById('editUploadArea');
            const editImagePreview = document.getElementById('editImagePreview');
            const editPreviewImg = document.getElementById('editPreviewImg');
            
            editUploadArea.style.display = 'none';
            editImagePreview.style.display = 'block';
            editPreviewImg.src = dataUrl;
        }
        
        // ÈáçÁΩÆÂõæÁâá‰∏ä‰º†
        function resetImageUpload() {
            const uploadArea = document.getElementById('uploadArea');
            const imagePreview = document.getElementById('imagePreview');
            const imageInput = document.getElementById('imageInput');
            const aiAnalyzeBtn = document.getElementById('aiAnalyzeBtn');
            
            uploadArea.style.display = 'block';
            imagePreview.style.display = 'none';
            aiAnalyzeBtn.style.display = 'none';
            imageInput.value = '';
            currentImageData = null;
        }
        
        // ÈáçÁΩÆÁºñËæëÂõæÁâá‰∏ä‰º†
        function resetEditImageUpload() {
            const editUploadArea = document.getElementById('editUploadArea');
            const editImagePreview = document.getElementById('editImagePreview');
            const editImageInput = document.getElementById('editImageInput');
            
            editUploadArea.style.display = 'block';
            editImagePreview.style.display = 'none';
            editImageInput.value = '';
            editImageData = null;
        }
        
        // AIÂõæÁâáËØÜÂà´ÂàÜÊûê
        async function analyzeImageWithAI() {
            if (!currentImageData) {
                showNotification('ËØ∑ÂÖàÈÄâÊã©ÂõæÁâáÔºÅ', 'error');
                return;
            }
            
            const aiAnalyzeBtn = document.getElementById('aiAnalyzeBtn');
            const originalText = aiAnalyzeBtn.innerHTML;
            
            // ÊòæÁ§∫Âä†ËΩΩÁä∂ÊÄÅ
            aiAnalyzeBtn.disabled = true;
            aiAnalyzeBtn.innerHTML = '<span class="loading-spinner"></span>AIÂàÜÊûê‰∏≠...';
            
            try {
                // Êô∫ËÉΩAIÂàÜÊûê
                const result = await simulateAIAnalysis(currentImageData);
                
                // ÊòæÁ§∫ÂàÜÊûêÁªìÊûúÂíåÁΩÆ‰ø°Â∫¶
                if (result.name) document.getElementById('itemName').value = result.name;
                if (result.category) document.getElementById('itemCategory').value = result.category;
                if (result.color) document.getElementById('itemColor').value = result.color;
                if (result.season) document.getElementById('itemSeason').value = result.season;
                
                // ÊòæÁ§∫ÁΩÆ‰ø°Â∫¶‰ø°ÊÅØ
                const confidence = result.confidence;
                let confidenceText = 'ËØÜÂà´ÂÆåÊàêÔºÅ';
                if (confidence) {
                    const avgConfidence = ((confidence.color + confidence.category + confidence.season) / 3 * 100).toFixed(0);
                    confidenceText += ` (ÁΩÆ‰ø°Â∫¶: ${avgConfidence}%)`;
                }
                
                showNotification(confidenceText, 'success');
            } catch (error) {
                console.error('AIÂàÜÊûêÂ§±Ë¥•:', error);
                showNotification('AIÂàÜÊûêÂ§±Ë¥•ÔºåËØ∑ÊâãÂä®Â°´ÂÜô‰ø°ÊÅØ', 'error');
            } finally {
                // ÊÅ¢Â§çÊåâÈíÆÁä∂ÊÄÅ
                aiAnalyzeBtn.disabled = false;
                aiAnalyzeBtn.innerHTML = originalText;
            }
        }
        
        // Êô∫ËÉΩÂõæÂÉèÂàÜÊûêÔºàÂü∫‰∫éÈ¢úËâ≤ÁâπÂæÅÂíåÂΩ¢Áä∂ÁâπÂæÅÁöÑAIËØÜÂà´Ôºâ
        function simulateAIAnalysis(imageData) {
            return new Promise((resolve) => {
                setTimeout(() => {
                    // ÂàõÂª∫ÂõæÂÉèÂàÜÊûêcanvas
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    const img = new Image();
                    
                    img.onload = function() {
                        canvas.width = img.width;
                        canvas.height = img.height;
                        ctx.drawImage(img, 0, 0);
                        
                        // ÂàÜÊûêÂõæÂÉèÈ¢úËâ≤
                        const colorAnalysis = analyzeImageColors(ctx, canvas.width, canvas.height);
                        
                        // ÂàÜÊûêÂõæÂÉèÂΩ¢Áä∂ÂíåÁ∫πÁêÜÁâπÂæÅ
                        const shapeAnalysis = analyzeImageShape(ctx, canvas.width, canvas.height);
                        
                        // Âü∫‰∫éÂàÜÊûêÁªìÊûúÊé®Êñ≠Ë°£Áâ©‰ø°ÊÅØ
                        const result = inferClothingInfo(colorAnalysis, shapeAnalysis);
                        
                        resolve(result);
                    };
                    
                    img.src = imageData;
                }, 1500);
            });
        }
        
        // È¢úËâ≤ÂàÜÊûêÂáΩÊï∞
        function analyzeImageColors(ctx, width, height) {
            const imageData = ctx.getImageData(0, 0, width, height);
            const data = imageData.data;
            const colorCounts = {};
            const sampleRate = 10; // ÊØè10‰∏™ÂÉèÁ¥†ÈááÊ†∑‰∏ÄÊ¨°‰ª•ÊèêÈ´òÊÄßËÉΩ
            
            for (let i = 0; i < data.length; i += 4 * sampleRate) {
                const r = data[i];
                const g = data[i + 1];
                const b = data[i + 2];
                const alpha = data[i + 3];
                
                // Ë∑≥ËøáÈÄèÊòéÂÉèÁ¥†
                if (alpha < 128) continue;
                
                // Â∞ÜRGBËΩ¨Êç¢‰∏∫HSL‰ª•Êõ¥Â•ΩÂú∞ËØÜÂà´È¢úËâ≤
                const hsl = rgbToHsl(r, g, b);
                const colorName = getColorName(hsl);
                
                colorCounts[colorName] = (colorCounts[colorName] || 0) + 1;
            }
            
            // ÊâæÂà∞ÊúÄ‰∏ªË¶ÅÁöÑÈ¢úËâ≤
            const sortedColors = Object.entries(colorCounts)
                .sort((a, b) => b[1] - a[1])
                .map(([color]) => color);
            
            return {
                primaryColor: sortedColors[0] || 'Êú™Áü•',
                secondaryColor: sortedColors[1] || null,
                colorDistribution: colorCounts
            };
        }
        
        // RGBËΩ¨HSL
        function rgbToHsl(r, g, b) {
            r /= 255;
            g /= 255;
            b /= 255;
            
            const max = Math.max(r, g, b);
            const min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;
            
            if (max === min) {
                h = s = 0;
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                    case g: h = (b - r) / d + 2; break;
                    case b: h = (r - g) / d + 4; break;
                }
                h /= 6;
            }
            
            return [h * 360, s * 100, l * 100];
        }
        
        // Ê†πÊçÆHSLÂÄºËé∑ÂèñÈ¢úËâ≤ÂêçÁß∞
        function getColorName([h, s, l]) {
            // ÈªëÁôΩÁÅ∞Â§ÑÁêÜ
            if (s < 10) {
                if (l < 20) return 'ÈªëËâ≤';
                if (l > 80) return 'ÁôΩËâ≤';
                return 'ÁÅ∞Ëâ≤';
            }
            
            // ‰Ωé‰∫ÆÂ∫¶Â§ÑÁêÜ
            if (l < 20) return 'Ê∑±Ëâ≤';
            if (l > 90) return 'ÊµÖËâ≤';
            
            // Ê†πÊçÆËâ≤Áõ∏Âà§Êñ≠È¢úËâ≤
            if (h < 15 || h > 345) return s > 50 ? 'Á∫¢Ëâ≤' : 'Á≤âËâ≤';
            if (h < 45) return 'Ê©ôËâ≤';
            if (h < 75) return 'ÈªÑËâ≤';
            if (h < 150) return 'ÁªøËâ≤';
            if (h < 210) return 'ÈùíËâ≤';
            if (h < 270) return 'ËìùËâ≤';
            if (h < 330) return 'Á¥´Ëâ≤';
            return 'Á≤âËâ≤';
        }
        
        // ÂΩ¢Áä∂ÂàÜÊûêÂáΩÊï∞
        function analyzeImageShape(ctx, width, height) {
            const imageData = ctx.getImageData(0, 0, width, height);
            const data = imageData.data;
            
            // ËÆ°ÁÆóÂõæÂÉèÁöÑÈïøÂÆΩÊØî
            const aspectRatio = width / height;
            
            // ÂàÜÊûêËæπÁºòÂØÜÂ∫¶ÔºàÁÆÄÂåñÁâàÊú¨Ôºâ
            let edgeCount = 0;
            const sampleSize = Math.min(width, height) / 20;
            
            for (let y = sampleSize; y < height - sampleSize; y += sampleSize) {
                for (let x = sampleSize; x < width - sampleSize; x += sampleSize) {
                    const idx = (y * width + x) * 4;
                    const brightness = (data[idx] + data[idx + 1] + data[idx + 2]) / 3;
                    
                    // Ê£ÄÊü•Âë®Âõ¥ÂÉèÁ¥†ÁöÑ‰∫ÆÂ∫¶Â∑ÆÂºÇ
                    const rightIdx = (y * width + x + sampleSize) * 4;
                    const downIdx = ((y + sampleSize) * width + x) * 4;
                    
                    if (rightIdx < data.length && downIdx < data.length) {
                        const rightBrightness = (data[rightIdx] + data[rightIdx + 1] + data[rightIdx + 2]) / 3;
                        const downBrightness = (data[downIdx] + data[downIdx + 1] + data[downIdx + 2]) / 3;
                        
                        if (Math.abs(brightness - rightBrightness) > 30 || 
                            Math.abs(brightness - downBrightness) > 30) {
                            edgeCount++;
                        }
                    }
                }
            }
            
            return {
                aspectRatio,
                edgeDensity: edgeCount / ((width / sampleSize) * (height / sampleSize)),
                isVertical: aspectRatio < 0.8,
                isHorizontal: aspectRatio > 1.2
            };
        }
        
        // Âü∫‰∫éÂàÜÊûêÁªìÊûúÊé®Êñ≠Ë°£Áâ©‰ø°ÊÅØ
        function inferClothingInfo(colorAnalysis, shapeAnalysis) {
            const { primaryColor, secondaryColor } = colorAnalysis;
            const { aspectRatio, edgeDensity, isVertical, isHorizontal } = shapeAnalysis;
            
            // Á±ªÂà´Êé®Êñ≠ÈÄªËæë
            let category;
            let name;
            let season;
            
            if (isVertical && aspectRatio < 0.6) {
                // ÂæàÈ´òÂæàÁ™ÑÔºåÂèØËÉΩÊòØËøûË°£Ë£ôÊàñÂ§ßË°£
                category = edgeDensity > 0.3 ? 'ËøûË°£Ë£ô' : 'Â§ñÂ•ó';
                name = category === 'ËøûË°£Ë£ô' ? 'ËøûË°£Ë£ô' : 'Â§ßË°£';
            } else if (isHorizontal) {
                // ÂæàÂÆΩÔºåÂèØËÉΩÊòØÈûãÂ≠êÊàñÈÖçÈ•∞
                category = 'ÈûãÂ≠ê';
                name = 'ÈûãÂ≠ê';
            } else if (aspectRatio > 0.8 && aspectRatio < 1.2) {
                // Êé•ËøëÊ≠£ÊñπÂΩ¢ÔºåÂèØËÉΩÊòØ‰∏äË°£
                category = '‰∏äË°£';
                const topTypes = ['TÊÅ§', 'Ë°¨Ë°´', 'ÊØõË°£', 'ËÉåÂøÉ'];
                name = topTypes[Math.floor(Math.random() * topTypes.length)];
            } else {
                // ÂÖ∂‰ªñÊÉÖÂÜµÔºåÂèØËÉΩÊòØ‰∏ãË£Ö
                category = '‰∏ãË£Ö';
                const bottomTypes = ['Áâõ‰ªîË£§', '‰ºëÈó≤Ë£§', 'Áü≠Ë£§', 'Ë£ôÂ≠ê'];
                name = bottomTypes[Math.floor(Math.random() * bottomTypes.length)];
            }
            
            // Â≠£ËäÇÊé®Êñ≠
            const darkColors = ['ÈªëËâ≤', 'Ê∑±Ëâ≤', 'ÁÅ∞Ëâ≤'];
            const lightColors = ['ÁôΩËâ≤', 'ÊµÖËâ≤', 'ÈªÑËâ≤'];
            const warmColors = ['Á∫¢Ëâ≤', 'Ê©ôËâ≤', 'ÈªÑËâ≤', 'Á≤âËâ≤'];
            const coolColors = ['ËìùËâ≤', 'ÈùíËâ≤', 'Á¥´Ëâ≤', 'ÁªøËâ≤'];
            
            if (category === 'Â§ñÂ•ó' || darkColors.includes(primaryColor)) {
                season = 'ÁßãÂ≠£';
            } else if (lightColors.includes(primaryColor)) {
                season = 'Â§èÂ≠£';
            } else if (warmColors.includes(primaryColor)) {
                season = 'Êò•Â≠£';
            } else if (coolColors.includes(primaryColor)) {
                season = 'ÂÜ¨Â≠£';
            } else {
                season = 'ÂõõÂ≠£';
            }
            
            // ÁîüÊàêÊõ¥ÂáÜÁ°ÆÁöÑÂêçÁß∞
            const coloredName = `${primaryColor}${name}`;
            
            return {
                name: coloredName,
                category: category,
                color: primaryColor,
                season: season,
                confidence: {
                    color: Object.keys(colorAnalysis.colorDistribution).length > 0 ? 0.8 : 0.3,
                    category: edgeDensity > 0.2 ? 0.7 : 0.5,
                    season: 0.6
                }
            };
        }
        
        // ÊîπËøõÁöÑÈÄöÁü•ÂáΩÊï∞
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            const colors = {
                success: 'linear-gradient(135deg, #4ade80 0%, #22c55e 100%)',
                error: 'linear-gradient(135deg, #e53e3e 0%, #c53030 100%)',
                info: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                warning: 'linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)'
            };
            
            notification.style.cssText = `
                position: fixed;
                top: 30px;
                right: 30px;
                background: ${colors[type] || colors.success};
                color: white;
                padding: 20px 25px;
                border-radius: 15px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.2);
                z-index: 1001;
                font-weight: 600;
                font-size: 1rem;
                transform: translateX(400px);
                transition: all 0.3s ease;
                max-width: 350px;
                backdrop-filter: blur(10px);
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            setTimeout(() => {
                notification.style.transform = 'translateX(400px)';
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        document.body.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }
        
        // ÁÇπÂáªÊ®°ÊÄÅÊ°ÜÂ§ñÈÉ®ÂÖ≥Èó≠
        window.onclick = function(event) {
            const modal = document.getElementById('editModal');
            if (event.target === modal) {
                closeEditModal();
            }
        }
        
        // ÈîÆÁõòÂø´Êç∑ÈîÆ
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeEditModal();
            }
        });
    </script>
</body>
</html>